set (VTK_7 OFF)
set (VTK_8 OFF)
set (VTK_9 OFF)
set (USE_OPENGL_BACKEND OFF)
set (QVTK_WIDGET OFF)
unset (VTK_LIBRARY_PATH)
unset (COMMON_CORE_COMPONENT)
unset (COMMON_CORE_TARGET)
find_package (VTK REQUIRED)
message (STATUS "VTK DETECTE : ${VTK_VERSION}")
if (VTK_VERSION_MAJOR STREQUAL "7")
	set (VTK_7 ON)
	set (USE_OPENGL_BACKEND ON)
	set (QVTK_WIDGET ON)
	set (COMMON_CORE_COMPONENT vtkCommonCore)
	set (COMMON_CORE_TARGET vtkCommonCore)
elseif (VTK_VERSION_MAJOR STREQUAL "8")
	set (VTK_8 ON)
	set (COMMON_CORE_TARGET vtkCommonCore)
elseif (VTK_VERSION_MAJOR STREQUAL "9")
	set (VTK_9 ON)
	set (COMMON_CORE_COMPONENT CommonCore)
	set (COMMON_CORE_TARGET VTK::CommonCore)
else ( )
	message (FATAL_ERROR "Version majeure de VTK non gérée : ${VTK_VERSION}")
endif ( )

find_package (VTK ${VTK_VERSION_MAJOR} REQUIRED COMPONENTS ${COMMON_CORE_COMPONENT})
if (NOT TARGET ${COMMON_CORE_TARGET})
	message (FATAL_ERROR "${COMMON_CORE_TARGET} non chargée.")
else ( )
	get_target_property (VTK_CORE_LOCATION ${COMMON_CORE_TARGET} LOCATION)
	get_filename_component (VTK_LIBRARY_PATH ${VTK_CORE_LOCATION} DIRECTORY)
endif (NOT TARGET ${COMMON_CORE_TARGET})

